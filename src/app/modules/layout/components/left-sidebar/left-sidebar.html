<!-- Sidebar principal -->
<div
  class="z-[9900] fixed top-0 left-0 h-full w-64 bg-white/90 backdrop-blur-md 
         shadow-xl border-r border-gray-200 flex flex-col transition-all duration-500"
  [class.-translate-x-60]="!isOpen"
>
  <!-- Header con logo y botón -->
  <div class="flex items-center justify-between p-4 border-b border-gray-300">
    <div class="flex items-center space-x-2">
      <img
        src="https://cdn-icons-png.flaticon.com/512/7468/7468192.png"
        alt="Logo"
        class="w-8 h-8 rounded-full"
      />
      <h1 class="text-lg font-semibold text-gray-800">PUZZLE MAKERS</h1>
    </div>

    <button (click)="toggleSidebar()" class="p-2 rounded-md hover:bg-gray-200">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 text-gray-700"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 5.25h16.5m-16.5 6h16.5m-16.5 6h16.5"
        />
      </svg>
    </button>
  </div>

  <!-- Contenido principal -->
  <div class="flex-1 p-5">
    <h2 class="text-gray-700 text-base mb-3 font-medium">
      Hola, ¿qué deseas hacer hoy?
    </h2>

    <div class="flex flex-wrap gap-4">
        @for (item of options(); track $index) {
            <div class="select-none cursor-pointer rounded-lg shadow border border-gray-400 p-1" (click)="toggleSelection(item.id)" [ngClass]="{'bg-sky-400':selection().includes(item.id)}">
                <p> {{item.description}} </p>
            </div>
        }

    </div>
  </div>

  <!-- Switch inferior -->
  <div class="p-4 border-t border-gray-300">
    <div class="flex items-center justify-between text-sm text-gray-700 mb-1">
      <span>NIÑO</span>
      <span>TUTOR</span>
    </div>

    <label class="relative inline-flex items-center cursor-pointer">
      <input type="checkbox" class="sr-only peer" [(ngModel)]="isTutor" />
      <div
        class="w-14 h-7 bg-gray-300 rounded-full peer peer-checked:bg-sky-500 
               after:content-[''] after:absolute after:top-[2px] after:left-[2px]
               after:bg-white after:border-gray-300 after:border after:rounded-full
               after:h-6 after:w-6 after:transition-all peer-checked:after:translate-x-7"
      ></div>
    </label>
  </div>
</div>

<!-- Botón flotante visible SI el sidebar está cerrado -->
<button
  *ngIf="!isOpen"
  (click)="toggleSidebar()"
  class="z-[9999] fixed top-5 left-5 p-3 bg-white/90 backdrop-blur-md 
         rounded-full shadow-lg border border-gray-300 hover:scale-110 
         transition-transform duration-300"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6 text-gray-700"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M3.75 5.25h16.5m-16.5 6h16.5m-16.5 6h16.5"
    />
  </svg>
</button>
